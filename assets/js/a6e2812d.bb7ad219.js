"use strict";(self.webpackChunkjatos_docs=self.webpackChunkjatos_docs||[]).push([[7758],{89164:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>m});var n=a(83117),r=(a(67294),a(3905)),o=a(22004);const i={title:"JATOS on DigitalOcean",slug:"/JATOS-on-DigitalOcean.html",sidebar_position:5},s=void 0,l={unversionedId:"Serving_the_Internet/JATOS-on-DigitalOcean",id:"version-3.9.1/Serving_the_Internet/JATOS-on-DigitalOcean",title:"JATOS on DigitalOcean",description:"This guide explains how to install JATOS in the cloud using DigitalOcean. DigitalOcean is a cloud provider (like AWS, Google Cloud, Azure, etc.). We use DigitalOcean as an example because it is easy to use and has good documentation, but we have no affiliation with them.",source:"@site/versioned_docs/version-3.9.1/Serving_the_Internet/JATOS-on-DigitalOcean.md",sourceDirName:"Serving_the_Internet",slug:"/JATOS-on-DigitalOcean.html",permalink:"/JATOS-on-DigitalOcean.html",draft:!1,editUrl:"https://github.com/JATOS/JATOS_docs/tree/main/versioned_docs/version-3.9.1/Serving_the_Internet/JATOS-on-DigitalOcean.md",tags:[],version:"3.9.1",lastUpdatedBy:"elisafilevich",lastUpdatedAt:1751480945,formattedLastUpdatedAt:"Jul 2, 2025",sidebarPosition:5,frontMatter:{title:"JATOS on DigitalOcean",slug:"/JATOS-on-DigitalOcean.html",sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Install JATOS on a server",permalink:"/JATOS-on-a-server.html"},next:{title:"JATOS on AWS",permalink:"/JATOS-in-Amazons-Cloud-without-Docker.html"}},p={},m=[{value:"Set up a Simple JATOS Server on DigitalOcean",id:"set-up-a-simple-jatos-server-on-digitalocean",level:2},{value:"Destroy your JATOS server",id:"destroy-your-jatos-server",level:2},{value:"Set up JATOS with HTTPS and a Domain",id:"set-up-jatos-with-https-and-a-domain",level:2},{value:"Summary of the workflow",id:"summary-of-the-workflow",level:3},{value:"Create Droplet",id:"create-droplet",level:3},{value:"Set up your DNS",id:"set-up-your-dns",level:3},{value:"Restart",id:"restart",level:3},{value:"Misc",id:"misc",level:3}],c={toc:m};function d(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"This guide explains how to install JATOS in the cloud using ",(0,r.kt)("a",{parentName:"p",href:"https://www.digitalocean.com"},"DigitalOcean"),". DigitalOcean is a cloud provider (like AWS, Google Cloud, Azure, etc.). We use DigitalOcean as an example because it is easy to use and has good documentation, but we have no affiliation with them."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Note:")," A cloud server costs money (typically $5\u2013$50/month or more), and you\u2019ll need a credit card to open a DigitalOcean account."),(0,r.kt)("h2",{id:"set-up-a-simple-jatos-server-on-digitalocean"},"Set up a Simple JATOS Server on DigitalOcean"),(0,r.kt)("p",null,"First, we\u2019ll set up a basic JATOS server without encryption (HTTPS) or a custom domain name."),(0,r.kt)("p",null,"DigitalOcean offers ",(0,r.kt)("em",{parentName:"p"},"Droplets"),", which are virtual machines you can use as servers. If everything goes smoothly, you won\u2019t need to use the terminal at all. You can watch the video below or follow the instructions further down."),(0,r.kt)(o.Z,{controls:!0,width:"100%",height:"100%",url:"/deploy_to_digitalocean_wo_domain_and_encryption.mp4",mdxType:"ReactPlayer"}),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Set up an account with ",(0,r.kt)("a",{parentName:"p",href:"https://www.digitalocean.com/"},"DigitalOcean")," (billing information required).")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Create a ",(0,r.kt)("em",{parentName:"p"},"Droplet")," (DigitalOcean's term for a virtual machine).")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Choose the ",(0,r.kt)("em",{parentName:"p"},"Region")," nearest to your users.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Choose an image from ",(0,r.kt)("em",{parentName:"p"},"Marketplace"),": select one with ",(0,r.kt)("em",{parentName:"p"},"Docker")," on ",(0,r.kt)("em",{parentName:"p"},"Ubuntu")," pre-installed.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Choose a ",(0,r.kt)("em",{parentName:"p"},"Size"),": For most cases, ",(0,r.kt)("em",{parentName:"p"},"Basic")," with ",(0,r.kt)("em",{parentName:"p"},"Regular")," CPU and 1\u20134 GB memory is sufficient. If you're just trying it out, 1 GB is enough. You can resize later if needed.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Choose an ",(0,r.kt)("em",{parentName:"p"},"authentication method"),".")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Click on ",(0,r.kt)("em",{parentName:"p"},"Advanced Options")," and enable ",(0,r.kt)("em",{parentName:"p"},"Add Initialization scripts"),". Then copy and paste the following script into the text field:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"#!/bin/bash\ndocker run -d --restart=always -p 80:9000 jatos/jatos:latest\n")),(0,r.kt)("p",{parentName:"li"},"You can change ",(0,r.kt)("inlineCode",{parentName:"p"},"latest")," to a ",(0,r.kt)("a",{parentName:"p",href:"https://hub.docker.com/r/jatos/jatos/tags"},"specific version")," if needed.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Click the ",(0,r.kt)("em",{parentName:"p"},"Create Droplet")," button.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Wait a few minutes while your server is created. Copy the Droplet's IP address into your browser's address bar. If everything went well, you should see the JATOS login screen.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Log in with the default credentials 'admin' and 'admin'."))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Done!")," You now have a basic JATOS server accessible from the Internet."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Important:")," Change your admin user's password immediately. Go to the admin user page (top-right corner) and click ",(0,r.kt)("em",{parentName:"p"},"My Password"),"."),(0,r.kt)("p",null,"DigitalOcean charges by the second. If you want to create a new JATOS server (e.g., if something went wrong), simply destroy the current one and start over."),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"destroy-your-jatos-server"},"Destroy your JATOS server"),(0,r.kt)("p",null,"To destroy your server, go to your Droplet's page in DigitalOcean and click ",(0,r.kt)("em",{parentName:"p"},"More")," \u2192 ",(0,r.kt)("em",{parentName:"p"},"Destroy"),". This will completely remove your JATOS server and delete all collected data and uploaded studies."),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"set-up-jatos-with-https-and-a-domain"},"Set up JATOS with HTTPS and a Domain"),(0,r.kt)("p",null,"This part is ",(0,r.kt)("strong",{parentName:"p"},"optional")," and only necessary if you want your own domain name and encrypted (HTTPS) access."),(0,r.kt)("p",null,"We will use ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/traefik/traefik"},"Traefik")," as a proxy. Traefik provides encryption out-of-the-box (using ",(0,r.kt)("a",{parentName:"p",href:"https://letsencrypt.org/"},"Let\u2019s Encrypt"),"), is ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/traefik/traefik"},"open source"),", and free to use."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Get your own domain name:"),(0,r.kt)("br",{parentName:"p"}),"\n","You need to obtain a domain name from a registrar or ask your IT department for a subdomain."),(0,r.kt)("p",null,"With a domain name, you can encrypt your server's communication with HTTPS."),(0,r.kt)("h3",{id:"summary-of-the-workflow"},"Summary of the workflow"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Create Droplet"),(0,r.kt)("li",{parentName:"ol"},"Set up your DNS"),(0,r.kt)("li",{parentName:"ol"},"Restart Droplet"),(0,r.kt)("li",{parentName:"ol"},"Wait until you can reach the webpage")),(0,r.kt)("h3",{id:"create-droplet"},"Create Droplet"),(0,r.kt)("p",null,"Follow the instructions above to create a JATOS server, but in the ",(0,r.kt)("em",{parentName:"p"},"Add Initialization scripts")," field, use the following script:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'#!/bin/bash\n\n# Change to your email and domain (for Let\'s Encrypt)\nemail=myemail@example.org\ndomain=my.domain.org\n\ncat >/root/compose.yaml <<EOL\nversion: "3.8"\n\nservices:\n\n  traefik:\n    image: "traefik:v2.10"\n    container_name: "traefik"\n    command:\n      #- "--log.level=DEBUG"\n      - "--api.insecure=true"\n      - "--providers.docker=true"\n      - "--providers.docker.exposedbydefault=false"\n      - "--entrypoints.web.address=:80"\n      - "--entrypoints.web.http.redirections.entrypoint.to=websecure"\n      - "--entrypoints.web.http.redirections.entrypoint.scheme=https"\n      - "--entrypoints.websecure.address=:443"\n      - "--certificatesresolvers.jatosresolver.acme.tlschallenge=true"\n      #- "--certificatesresolvers.jatosresolver.acme.caserver=https://acme-staging-v02.api.letsencrypt.org/directory"\n      - "--certificatesresolvers.jatosresolver.acme.email=${email}"\n      - "--certificatesresolvers.jatosresolver.acme.storage=/letsencrypt/acme.json"\n    ports:\n      - "80:80"\n      - "443:443"\n    volumes:\n      - "./letsencrypt:/letsencrypt"\n      - "/var/run/docker.sock:/var/run/docker.sock:ro"\n\n  jatos:\n    image: "jatos/jatos:latest"\n    container_name: "jatos"\n    ports:\n      - "9000:9000"\n    volumes:\n      - "jatos-logs:/opt/jatos/logs"\n      - "jatos-data:/opt/jatos_data"\n    labels:\n      - "traefik.enable=true"\n      - "traefik.http.routers.jatos.rule=Host(\\`${domain}\\`)"\n      - "traefik.http.services.jatos.loadbalancer.server.port=9000"\n      - "traefik.http.routers.jatos.entrypoints=websecure"\n      - "traefik.http.routers.jatos.tls.certresolver=jatosresolver"\n\nvolumes:\n  jatos-data:\n  jatos-logs:\nEOL\n\ndocker compose -f /root/compose.yaml up -d\n')),(0,r.kt)("p",null,"This script uses ",(0,r.kt)("a",{parentName:"p",href:"/JATOS-with-Docker-Compose.html"},"Docker Compose")," to set up Traefik and JATOS. It creates a Docker Compose config file at ",(0,r.kt)("inlineCode",{parentName:"p"},"/root/compose.yaml")," and runs it with ",(0,r.kt)("inlineCode",{parentName:"p"},"docker compose up"),"."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Before clicking ",(0,r.kt)("em",{parentName:"strong"},"Create Droplet"),",")," change ",(0,r.kt)("inlineCode",{parentName:"p"},"my.domain.org")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"myemail@example.org")," at the top of the script."),(0,r.kt)("h3",{id:"set-up-your-dns"},"Set up your DNS"),(0,r.kt)("p",null,"After you've created your Droplet, you need to ",(0,r.kt)("strong",{parentName:"p"},"point your domain name to your server's IP address"),". This is done via DNS (Domain Name Service) and involves setting up ",(0,r.kt)("em",{parentName:"p"},"DNS records"),", especially ",(0,r.kt)("em",{parentName:"p"},"A records")," (for IPv4) or ",(0,r.kt)("em",{parentName:"p"},"AAAA records")," (for IPv6). You can ",(0,r.kt)("a",{parentName:"p",href:"https://www.digitalocean.com/docs/networking/dns/how-to/manage-records/"},"manage your DNS settings with DigitalOcean")," or through your domain registrar. The important part is to enter your server's IPv4 address in the ",(0,r.kt)("em",{parentName:"p"},"A record")," (or IPv6 in the ",(0,r.kt)("em",{parentName:"p"},"AAAA record"),"). DNS changes can take from a few minutes up to a day to propagate. You can use ",(0,r.kt)("a",{parentName:"p",href:"http://www.kloth.net/services/nslookup.php"},"nslookup")," to check if your DNS is set up correctly."),(0,r.kt)("h3",{id:"restart"},"Restart"),(0,r.kt)("p",null,"Once your domain name points to your server's IP, ",(0,r.kt)("strong",{parentName:"p"},"restart your server")," (power off the Droplet and turn it back on). Traefik will then request a certificate for your domain and enable HTTPS. Sometimes a second restart is necessary."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Done!")," You now have a JATOS server with encryption and your own domain name."),(0,r.kt)("h3",{id:"misc"},"Misc"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Let's Encrypt has a ",(0,r.kt)("a",{parentName:"p",href:"https://letsencrypt.org/docs/rate-limits/"},"rate limit")," for the number of certificates. If you just want to try things out, uncomment the following line in the initialization script:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'- "--certificatesresolvers.jatosresolver.acme.caserver=https://acme-staging-v02.api.letsencrypt.org/directory"\n')),(0,r.kt)("p",{parentName:"li"},"This uses the staging server, which has no rate limit, but you won't get a valid certificate.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"The Docker Compose config file created during Droplet initialization is at ",(0,r.kt)("inlineCode",{parentName:"p"},"/root/compose.yaml"),", and the certificate is stored under ",(0,r.kt)("inlineCode",{parentName:"p"},"/root/letsencrypt/"),".")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"You can configure JATOS by editing ",(0,r.kt)("inlineCode",{parentName:"p"},"/root/compose.yaml"),". You can add all ",(0,r.kt)("a",{parentName:"p",href:"/JATOS_Configuration.html"},"JATOS command-line arguments")," in the ",(0,r.kt)("em",{parentName:"p"},"command")," section of the ",(0,r.kt)("em",{parentName:"p"},"jatos")," service."),(0,r.kt)("p",{parentName:"li"},"For example, to add a ",(0,r.kt)("a",{parentName:"p",href:"/JATOS_Configuration.html#welcome-message"},"welcome message on the home page"),", use ",(0,r.kt)("inlineCode",{parentName:"p"},"-Djatos.brandingUrl"),":"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'  jatos:\n    image: "jatos/jatos:latest"\n    container_name: "jatos"\n    command:\n      - \'-Djatos.brandingUrl=https://mydomain.com/foobar-university-welcome-page.html\'\n    ...\n')),(0,r.kt)("p",{parentName:"li"},"Or, to let JATOS use an ",(0,r.kt)("a",{parentName:"p",href:"JATOS-with-MySQL.html"},"external MySQL database"),", use ",(0,r.kt)("inlineCode",{parentName:"p"},"-Djatos.db.url"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"-Djatos.db.username"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"-Djatos.db.password"),", and ",(0,r.kt)("inlineCode",{parentName:"p"},"-Djatos.db.driver")," (change IP, port, username, and password to match your database):"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"  jatos:\n    image: \"jatos/jatos:latest\"\n    container_name: \"jatos\"\n    command:\n      - '-Djatos.db.url=jdbc:mysql://1.2.3.4:3306/jatos?characterEncoding=UTF-8&useJDBCCompliantTimezoneShift=true&useLegacyDatetimeCode=false&serverTimezone=UTC'\n      - '-Djatos.db.username=jatosuser'\n      - '-Djatos.db.password=mypassword'\n      - '-Djatos.db.driver=com.mysql.cj.jdbc.Driver'\n    ...\n")))))}d.isMDXComponent=!0}}]);