"use strict";(self.webpackChunkjatos_docs=self.webpackChunkjatos_docs||[]).push([[7693],{99262:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>y,frontMatter:()=>i,metadata:()=>p,toc:()=>d});var n=a(83117),o=(a(67294),a(3905)),r=a(22004);const i={title:"PsychoPy and JATOS",slug:"/PsychoPy-and-JATOS.html",sidebar_position:6},s=void 0,p={unversionedId:"Write_your_study/PsychoPy-and-JATOS",id:"version-3.9.1/Write_your_study/PsychoPy-and-JATOS",title:"PsychoPy and JATOS",description:"How to turn a PsychoPy experiment into a JATOS study - Either watch the video or follow the instructions.",source:"@site/versioned_docs/version-3.9.1/Write_your_study/PsychoPy-and-JATOS.md",sourceDirName:"Write_your_study",slug:"/PsychoPy-and-JATOS.html",permalink:"/PsychoPy-and-JATOS.html",draft:!1,editUrl:"https://github.com/JATOS/JATOS_docs/tree/main/versioned_docs/version-3.9.1/Write_your_study/PsychoPy-and-JATOS.md",tags:[],version:"3.9.1",lastUpdatedBy:"elisafilevich",lastUpdatedAt:1758914196,formattedLastUpdatedAt:"Sep 26, 2025",sidebarPosition:6,frontMatter:{title:"PsychoPy and JATOS",slug:"/PsychoPy-and-JATOS.html",sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"OpenSesame/OSWeb and JATOS",permalink:"/OSWeb-and-JATOS.html"},next:{title:"Change study's members",permalink:"/Change-studys-members.html"}},l={},d=[{value:"Create a Study in JATOS",id:"create-a-study-in-jatos",level:3},{value:"Adapt Your PsychoPy Experiment to JATOS",id:"adapt-your-psychopy-experiment-to-jatos",level:3}],m={toc:d};function y(e){let{components:t,...a}=e;return(0,o.kt)("wrapper",(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"How to turn a PsychoPy experiment into a JATOS study - Either watch the video or follow the instructions.")),(0,o.kt)(r.Z,{controls:!0,width:"100%",height:"100%",url:"psychopy_to_jatos.webm",mdxType:"ReactPlayer"}),(0,o.kt)("h3",{id:"create-a-study-in-jatos"},"Create a Study in JATOS"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Open JATOS in your browser. (Need to install JATOS locally? ",(0,o.kt)("a",{parentName:"li",href:"https://www.jatos.org/Installation.html"},"Find out how here"),")."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Create a new study"),": Click on ",(0,o.kt)("strong",{parentName:"li"},"Studies")," to open the sidebar, then select ",(0,o.kt)("strong",{parentName:"li"},"+"),", and finally ",(0,o.kt)("strong",{parentName:"li"},"New Study"),"."),(0,o.kt)("li",{parentName:"ol"},"JATOS will create a new study and display its study page. ",(0,o.kt)("strong",{parentName:"li"},"Make a note of the study assets folder name"),"; you'll need it later. You can find it at the top of your study page. By default, it will look similar to ",(0,o.kt)("inlineCode",{parentName:"li"},"0413af8c-8512-4105-b89b-08a7f557cb57"),"."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Add a new component"),": Click the ",(0,o.kt)("strong",{parentName:"li"},"New Component")," button. In the window that appears, enter a title (this is up to you) and type ",(0,o.kt)("inlineCode",{parentName:"li"},"index.html")," into the 'HTML file path' field. Then, press ",(0,o.kt)("strong",{parentName:"li"},"Add"),".")),(0,o.kt)("h3",{id:"adapt-your-psychopy-experiment-to-jatos"},"Adapt Your PsychoPy Experiment to JATOS"),(0,o.kt)("p",null,"Now, let's configure PsychoPy/PsychoJS to save your experiment's result data directly to JATOS."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Obtain your PsychoPy experiment")," (for example, you can download it from ",(0,o.kt)("a",{parentName:"p",href:"https://pavlovia.org/explore"},"https://pavlovia.org/explore"),").")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Copy the contents of your PsychoPy experiment folder")," into the study assets folder you created in JATOS. By default, this folder is located in your JATOS installation directory under ",(0,o.kt)("inlineCode",{parentName:"p"},"study_assets_root"),".")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Open the copied experiment")," (the one now within the JATOS study asset folder) in the PsychoPy Builder.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Select the last routine of your experiment")," and add a ",(0,o.kt)("strong",{parentName:"p"},"custom code component")," (found under ",(0,o.kt)("strong",{parentName:"p"},"Components")," -> ",(0,o.kt)("strong",{parentName:"p"},"Custom")," -> ",(0,o.kt)("strong",{parentName:"p"},"Code"),").")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"In the new code properties window, ",(0,o.kt)("strong",{parentName:"p"},"change the 'Code type' to 'JS'")," since we'll be adding JavaScript.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Open 'Before experiment'")," and add the following line:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},'jQuery.getScript("jatos.js");\n')),(0,o.kt)("p",{parentName:"li"},"This line loads the ",(0,o.kt)("em",{parentName:"p"},"jatos.js")," library.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Open 'Begin experiment'")," and add the following line:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"psychoJS._saveResults = 0;\n")),(0,o.kt)("p",{parentName:"li"},"This instructs PsychoJS not to save the result data locally.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Open 'Begin Routine'")," and add the following lines:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"const data = psychoJS._experiment._trialsData;\n\njatos.submitResultData(data);\n")),(0,o.kt)("p",{parentName:"li"},"This sends the result data in JSON format to JATOS at the end of the experiment."),(0,o.kt)("p",{parentName:"li"},"If you prefer CSV format:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"const data = psychoJS._experiment._trialsData;\n\nconst dataCsv = data.map(it => Object.values(it).join(',')).join('\\n')\njatos.submitResultData(dataCsv);\n"))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Open ",(0,o.kt)("strong",{parentName:"p"},"'End experiment'")," and add the following line:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"jatos.startNextComponent();\n")),(0,o.kt)("p",{parentName:"li"},"This ends the current component in JATOS and either starts the next one (if you have multiple components) or finishes the study.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Close the code properties window by clicking ",(0,o.kt)("strong",{parentName:"p"},"OK"),".")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Save")," your experiment in the PsychoPy Builder.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Switch to the PsychoPy Runner.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Generate the browser version of your experiment by selecting ",(0,o.kt)("strong",{parentName:"p"},"Run")," then ",(0,o.kt)("strong",{parentName:"p"},"Run JS for local debug")," from the top menu. This action will add your experiment's JavaScript file and a new 'lib' folder (containing PsychoJS JavaScript and CSS files) to your experiment folder. It will also open a browser tab, which you can close as you'll be running the experiment within JATOS.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Navigate to your study page in JATOS (the one you created earlier) and click ",(0,o.kt)("strong",{parentName:"p"},"Run"),".")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"If everything is set up correctly, your experiment should now be displayed.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Check that, after your study has finished, the result data are available in JATOS: go to your study page, then click ",(0,o.kt)("strong",{parentName:"p"},"Results"),", and finally expand the first result by clicking ",(0,o.kt)("inlineCode",{parentName:"p"},"\u25bc")," in the first column.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"At this point, you can export or import your study to another JATOS instance."))),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Note:")," In some PsychoPy experiments, you need to add a keyboard response component with the ",(0,o.kt)("strong",{parentName:"p"},"'Force end of routine'")," checkbox activated at the end of the last routine of the experiment to ensure that JATOS properly finishes the study."))}y.isMDXComponent=!0}}]);